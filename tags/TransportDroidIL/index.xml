<rss xmlns:atom="http://www.w3.org/2005/Atom" version="2.0"><channel><title>TransportDroidIL - Tag - Shallow and Pedantic</title><link>https://lutzky.net/tags/TransportDroidIL/</link><description>TransportDroidIL - Tag - Shallow and Pedantic</description><generator>Hugo -- gohugo.io</generator><language>en-us</language><managingEditor>lutzky@gmail.com (Ohad Lutzky)</managingEditor><webMaster>lutzky@gmail.com (Ohad Lutzky)</webMaster><lastBuildDate>Mon, 11 Jan 2016 00:00:00 +0000</lastBuildDate><atom:link href="https://lutzky.net/tags/TransportDroidIL/" rel="self" type="application/rss+xml"/><item><title>TransportDroidIL outage</title><link>https://lutzky.net/posts/transportdroidil-outage/</link><pubDate>Mon, 11 Jan 2016 00:00:00 +0000</pubDate><author>Ohad Lutzky</author><guid>https://lutzky.net/posts/transportdroidil-outage/</guid><description><![CDATA[<!-- raw HTML omitted -->
<div class="details admonition info open">
        <div class="details-summary admonition-title">
            <i class="icon fas fa-info-circle fa-fw" aria-hidden="true"></i>Hebrew post<i class="details-icon fas fa-angle-right fa-fw" aria-hidden="true"></i>
        </div>
        <div class="details-content">
            <div class="admonition-content">This post is written in Hebrew due to the target audience. TL;DR - TransportDroidIL can no longer function.</div>
        </div>
    </div>
<!-- raw HTML omitted -->
<div id="id-1"><h1 id="תקלה-ב-transportdroidil">תקלה ב-TransportDroidIL</h1>
<p>לצערי, האפליקציה TransportDroidIL הפסיקה לפעול, והסיבה היא כזו שלא מאפשרת תיקון. אני ממליץ בחום על החלופה <a href="https://play.google.com/store/apps/details?id=com.google.android.apps.maps" target="_blank" rel="noopener noreffer ">Google Maps</a>.</p>
<h2 id="שאלות-ותשובות">שאלות ותשובות</h2>
<h3 id="למה-האפליקציה-הפסיקה-לעבוד">למה האפליקציה הפסיקה לעבוד?</h3>
<p>האפליקציה TransportDroidIL פועלת ע&quot;י בקשת נתונים מאתר אגד או משרד אתר התחבורה, תוך שימוש במנגנון ה&quot;שפה חופשית&quot;. שני האתרים השתנו בצורות שונות, שלא מאפשרות לאפליקציה לפעול יותר:</p>
<ul>
<li>ב<a href="http://bus.gov.il" target="_blank" rel="noopener noreffer ">אתר משרד התחבורה</a>, מנגנון ה&quot;שפה חופשית&quot; כבר לא עובד כלל - קופצת ההודעה <code>[object Object]</code>, ומאחורי הקלעים ניתן לראות שהאתר לא מקבל מרכיב ה&quot;שפה החופשית&quot; תשובה.</li>
<li>באתר <a href="http://egged.co.il" target="_blank" rel="noopener noreffer ">אגד</a>, מנגנון ה&quot;שפה החופשית&quot; עדיין פועל,והשתנה יחסית מעט, ויכול בהחלט להיות אפשרי לגרום לאפליקציה לעבוד איתו שוב, אבל&hellip;</li>
</ul>
<h3 id="רגע-רגע-בעצם-האפליקציה-לא-עושה-שום-דבר-ומביאה-את-כל-הנתונים-מאתרים-קיימים-אז-למה-כתבת-אותה">רגע רגע, בעצם האפליקציה לא עושה שום דבר ומביאה את כל הנתונים מאתרים קיימים? אז למה כתבת אותה?</h3>
<p>נכון! הסיבה שכתבתי את האפליקציה הייתה שהאתרים האלה, בספטמבר 2010, לא היו מותאמים לטלפונים ניידים והשימוש בהם מהנייד היה כאב-ראש מוחלט. למעשה, <a href="http://bus.gov.il" target="_blank" rel="noopener noreffer ">אתר משרד התחבורה</a> עדיין לא מותאם, ונראה כיום דומה מאוד לאיך שאתר אגד נראה ב-2010. האפליקציה הייתה מיועדת אך ורק לתת ממשק משתמש נוח יותר לאותם האתרים.</p>
<p>למרבה השמחה, אתר <a href="http://egged.co.il" target="_blank" rel="noopener noreffer ">אגד</a> מותאם כיום בצורה פחות-או-יותר סבירה לטלפונים ניידים. לא מושלם, אבל בהחלט שמיש. אך, חשוב מכל&hellip;</p>
<h3 id="בתכלס-יש-אפליקציות-יותר-מוצלחות-כמו-google-maps-אז-למה-להשתמש-באתרים-האלה-בכלל">בתכל&rsquo;ס יש אפליקציות יותר מוצלחות, כמו Google Maps, אז למה להשתמש באתרים האלה בכלל?</h3>
<p>אין יותר סיבה! ב-2010 Google Maps אמנם לא סיפקה מידע תחבורה ציבורית בישראל, אבל כיום המידע קיים שם בצורה מלאה ומקיפה. המידע מגיע לגוגל ישירות מ<a href="https://data.gov.il/dataset/383" target="_blank" rel="noopener noreffer ">אתר מאגרי המידע הממשלתיים</a>, בפורמט GTFS המותאם לכך. זו האפליקציה בה אני משתמש כיום.</p>
<p>המידע המסופק הוא, כמו תמיד, מידע של לוחות זמנים ולא מידע זמן-אמת. כולי תקווה שחברות האוטובוסים יתחילו לפרסם מידע זמן-אמת בפורמט <a href="https://developers.google.com/transit/gtfs-realtime/?hl=en" target="_blank" rel="noopener noreffer ">GTFS-realtime</a>, אשר יגרום לכך ש-Google Maps ואפליקציות אחרות יוכלו להראות מידע מציאות יותר על זמן הגעת האוטובוסים.</p>
<h3 id="מי-פיתח-את-האפליקציה-ומה-הקשר-שלו-לעניין">מי פיתח את האפליקציה ומה הקשר שלו לעניין?</h3>
<p>אני המפתח המקורי של האפליקציה - שמי אוהד לוצקי. התחלתי לעבוד על תוכנות שמביאות מידע מאתר משרד התחבורה בזמן שהייתי סטודנט בטכניון שנוסע הרבה באוטובוסים, בערך ב-2007. ב-2010 המרתי את התוכנה לאפליקציית אנדרואיד כשהייתי בצבא ונסעתי הרבה באוטובוסים; כמה חברים התעניינו, והעליתי את התוכנה ל-Play Store. חבר טוב מהלימודים, חגי, שלח מספר שיפורים ואף <a href="https://github.com/lutzky/TransportDroidIL/pull/15" target="_blank" rel="noopener noreffer ">הוסיף מנגנון עדכוני-זמן-אמת</a>, אשר היה תלוי בחסדי האתרים של חברות אוטובוס ספציפיות שסיפקו, גם הן, את המידע בצורה לא-סטנדרטית.</p>
<p>בשלב כלשהו עלו אפליקציות חלופיות לרשת, דוגמת Moovit - אך אף אחד מהן לא מצאה חן בעיניי. בפרט, ל-Moovit לקח זמן רב לעלות, בעוד שהאפליקציה שלי הייתה מיועדת למבט מהיר תוך כדי שהאוטובוס מתקרב לתחנה.</p>
<p>בשלב כלשהו (2012 לכל המאוחר) משרד התחבורה התחיל לפרסם מידע GTFS שאפשר לגוגל להציג מידע תחבורה ציבורית בישראל, ואני הפסקתי להשתמש באפליקציה שכתבתי. Google Maps מראה את התחנות על מפה, רשימת תחנות-ביניים ועוד. עם זאת, מאחר ולאפליקציה עוד היה מספר לא-קטן של משתמשים (קצת יותר מ-55,000 בשיא), המשכתי לתקן בעיות  קטנות כשהן צצו וכשהיה לי זמן.</p>
<p>כיום אני עובד בגוגל בעצמי - לא בצוות של Google Maps, אלא בצוות Search. אני בהחלט חושב שגוגל מספקים מענה טוב יותר לתחבורה ציבורית מאשר TransportDroidIL &#x1f604;</p>
</div>
]]></description></item><item><title>Developing TransportDroidIL for Android</title><link>https://lutzky.net/posts/developing-transportdroidil-for-android/</link><pubDate>Sat, 08 Oct 2011 19:43:00 +0000</pubDate><author>Ohad Lutzky</author><guid>https://lutzky.net/posts/developing-transportdroidil-for-android/</guid><description><![CDATA[<p>Here are a few words on developing <a href="https://market.android.com/details?id=net.lutzky.transportdroidil" target="_blank" rel="noopener noreffer ">TransportDroidIL</a>, a small
utility to query Israeli public transportation sites more easily using an
Android phone.</p>
<p>Source control is super important. Mistakes will be made, other coders will
want to join in, and experimental features will want to be in their own
branches. <a href="http://git-scm.com/" target="_blank" rel="noopener noreffer ">Git</a> is awesome; it does source control
<em>right</em>, gives me powerful tools, and isn&rsquo;t a hassle to set up - even for a
small project like this. <a href="http://github.com/" target="_blank" rel="noopener noreffer ">Github</a> is also awesome; it makes
collaboration with other coders - even just one, in my case - easy, organized,
and fun.</p>
<p>One of my favorite git features is <em>revert</em>. It allows you to automatically
inverse a previous change. Here&rsquo;s an example from TransportDroidIL:
<a href="https://github.com/lutzky/TransportDroidIL/commit/0e194de5b8f24f85a3b4931963a06743525dacf8" target="_blank" rel="noopener noreffer ">0e194de</a>.
This commit reverts a previous &ldquo;cleanup&rdquo; commit in the autocompletion code -
allegedly, I was keeping two copies of the autocompletion option list for no
reason: One as a <code>LinkedList&lt;string&gt;</code>, and one internal to the
AutoCompleteTextView which I can access via an <code>ArrayAdapter&lt;string&gt;</code>. Turns out
that my <code>LinkedList&lt;string&gt;</code> copy is necessary, because the <code>ArrayAdapter&lt;string&gt;</code>
always behaves as though it&rsquo;s empty, so it cannot truly be read from. Despite
having performed a few commits since that bad &ldquo;fix&rdquo;, git was very helpful in
letting me revert that particular change, showing me the conflicts this
operation causes, and allowing me to fix them. The lesson is an important one:
Make small, manageable commits. Git is optimized for this, as commits are local
(no need to contact the server until a <em>push</em>).</p>
<p>Developing for Android makes a lot of sense when using Eclipse. I&rsquo;m a VIM
junkie, and generally dislike IDEs. Eclipse is slow and heavy - but it gets the
job done, and it does it very well. It&rsquo;s a bit weird that a plugin is required
to manage color schemes - but it exists. It&rsquo;s <strong>very</strong> weird (and quite
annoying) that it doesn&rsquo;t remove end-of-line white-space, and doesn&rsquo;t have an
option to do this. This makes git complain. There <em>is</em> an option to add
&ldquo;clean-up&rdquo; settings which are activated on every save, but this is far too
cumbersome and might change code I didn&rsquo;t intend to change (which becomes
confusing in the revision log). Still, the excellent debugging, JUnit and
logcat support are worth it.</p>
<p>Logcat is another awesome feature of Android. Every logged line has both a
&ldquo;Tag&rdquo; (usually defined per-class) and a severity. Logs can be filtered with a
different severity for each tag, and still - one can use the same logcat to
show messages from anything running on the Android device at the moment. It&rsquo;s
basically Syslog done better.</p>
<p>One last point is about Hebrew. This has been a problem with Android for quite
a while; for example, in a stock Android 2.3.3, numbers embedded in Hebrew
string appear backwards. Fixes exist, and are implemented in most Israeli ROMs,
especially the ones distributed by phone carriers - but they&rsquo;re different, and
sometimes don&rsquo;t work for all applications. This causes numbers to appear
backwards in TransportDroidIL, which in turn caused me to implement an
<a href="https://github.com/lutzky/TransportDroidIL/commit/713a9bd89547763776bb8a1c991ceb23bd6426c5" target="_blank" rel="noopener noreffer ">ugly</a> <a href="https://github.com/lutzky/TransportDroidIL/commit/6ba21053a8e981882bd0b1f808f257979a2bf488" target="_blank" rel="noopener noreffer ">hack</a>. I hope the upcoming Ice Cream Sandwich
release fixes this.</p>
]]></description></item><item><title>Upcoming features in TransportDroidIL</title><link>https://lutzky.net/posts/upcoming-features-in-transportdroidil/</link><pubDate>Fri, 02 Sep 2011 08:30:00 +0000</pubDate><author>Ohad Lutzky</author><guid>https://lutzky.net/posts/upcoming-features-in-transportdroidil/</guid><description><![CDATA[<!-- raw HTML omitted -->
<p>Hello everyone, TransportDroidIL 1.0 will be released this month. It has quite a few new features:</p>
<ol>
<li>Separate &ldquo;Source&rdquo;, &ldquo;Destination&rdquo; and &ldquo;Time&rdquo; fields. This is much better for
auto-completion as well.</li>
<li>Automatic location-based detection of &ldquo;Source&rdquo;. Hopefully you&rsquo;ll find the
interface for this unobtrusive.</li>
<li>Quick reversal of &ldquo;Source&rdquo; and &ldquo;Destination&rdquo;, for your return trip.</li>
<li>A new settings screen, with:
<ul>
<li>Provider selection (currently Egged or MOT)</li>
<li>A small attempt at right-to-left fixes for non-supporting devices.</li>
<li>A &ldquo;clear history&rdquo; button</li>
</ul>
</li>
</ol>
<p>Everyone loves screenshots:</p>
<figure><a class="lightgallery" href="/posts/upcoming-features-in-transportdroidil/device2.png" title="/posts/upcoming-features-in-transportdroidil/device2.png" data-thumbnail="/posts/upcoming-features-in-transportdroidil/device2.png" data-sub-html="<h2>Separate source and destination fields</h2>">
        
    </a><figcaption class="image-caption">Separate source and destination fields</figcaption>
    </figure>
<figure><a class="lightgallery" href="/posts/upcoming-features-in-transportdroidil/prefs.png" title="/posts/upcoming-features-in-transportdroidil/prefs.png" data-thumbnail="/posts/upcoming-features-in-transportdroidil/prefs.png" data-sub-html="<h2>Select data provider</h2>">
        
    </a><figcaption class="image-caption">Select data provider</figcaption>
    </figure>
<figure><a class="lightgallery" href="/posts/upcoming-features-in-transportdroidil/device.png" title="/posts/upcoming-features-in-transportdroidil/device.png" data-thumbnail="/posts/upcoming-features-in-transportdroidil/device.png" data-sub-html="<h2>Automatic location detection, Egged provider</h2>">
        
    </a><figcaption class="image-caption">Automatic location detection, Egged provider</figcaption>
    </figure>
<p>For a sneak peek, go to <a href="http://github.com/lutzky/TransportDroidIL" target="_blank" rel="noopener noreffer ">http://github.com/lutzky/TransportDroidIL</a> for the
latest sources. You can also report issues there.</p>
]]></description></item><item><title>Transport Droid IL</title><link>https://lutzky.net/posts/transport-droid-il/</link><pubDate>Sat, 04 Sep 2010 16:21:00 +0000</pubDate><author>Ohad Lutzky</author><guid>https://lutzky.net/posts/transport-droid-il/</guid><description><![CDATA[<p>After a couple of days&rsquo; messing with it, I&rsquo;m releasing it: <em>Transport Droid
IL</em>! It&rsquo;s a handy little app for querying <a href="http://egged.co.il/" target="_blank" rel="noopener noreffer ">Egged&rsquo;s site</a>,
as well as the new <a href="http://bus.gov.il/" target="_blank" rel="noopener noreffer ">Ministry of Transportation site</a>, on
transportation information. This is pretty beta, but seems to work well enough.</p>
<p>More info, source code:
<a href="http://lutzky.github.com/TransportDroidIL" target="_blank" rel="noopener noreffer ">http://lutzky.github.com/TransportDroidIL</a></p>
<p><strong>APK File:</strong>
<a href="http://lutzky.github.com/TransportDroidIL/TransportDroidIL.apk" target="_blank" rel="noopener noreffer ">TransportDroidIL.APK</a></p>
]]></description></item></channel></rss>